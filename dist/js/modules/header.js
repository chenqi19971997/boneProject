"use strict";function _classCallCheck(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(o,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(o,t.key,t)}}function _createClass(o,e,n){return e&&_defineProperties(o.prototype,e),n&&_defineProperties(o,n),o}define(["template","jquery"],function(o){return new(function(){function e(){var o=this;_classCallCheck(this,e),this.loadHTML().then(function(){o.calcCartCount(),o.showBox(),o.goTop(),o.logOut()})}return _createClass(e,[{key:"loadHTML",value:function(){return new Promise(function(o){$("header").load("/html/modules/header.html",o)})}},{key:"calcCartCount",value:function(){var o=0,e=localStorage.getItem("cart");e&&(o=(e=JSON.parse(e)).reduce(function(o,e){return o+e.count},0)),$("#shopnum").html(o),$("#cart span").html(o),o<100?$("#redCart").html(o):$("#redCart").html("n")}},{key:"showBox",value:function(){$("#show").on("mouseover",function(){$(".showBox").css("display","flex")}),$(".showBox").on("mouseover",function(){$(".showBox").css("display","flex")}),$("#show").on("mouseout",function(){$(".showBox").css("display","none")}),$(".showBox").on("mouseout",function(){$(".showBox").css("display","none")})}},{key:"goTop",value:function(){$(".goTop").on("click",function(){$("html,body").animate({scrollTop:0},1e3)}),$(document).on("scroll",function(){500<$(document).scrollTop()?$(".goTop").show():$(".goTop").hide()})}},{key:"logOut",value:function(){var o=utils.getCookie("name");o?($("#yourName").html("你好,"+o),$(".login").attr("href","#"),$(".login").on("click",function(){console.log("点击了"),$(".ImOut").slideToggle()}),$("#outting").on("click",function(){utils.removeCookie("name",{path:"/"}),$(".ImOut").hide(),$(".login").attr("href","/html/login.html")})):$(".login").attr("href","/html/login.html")}}]),e}())});